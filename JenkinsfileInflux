node ('master'){
    deleteDir()
    try {
            stage('Checkout repository.') {
                println(env.STAGE_NAME)
                env.STAGE_NAME = 'Checkout repository'
                println(env.STAGE_NAME)
                checkout poll: false, scm: [$class: 'GitSCM', branches: [[name: 'refs/heads/master']], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[url: 'https://github.com/uladzimiramelyanovich/curl.git']]]
            }
    }   finally {
            def myData = [:]
            def myDataTags = [:]
            myData['stage_result'] = 'SUCCESS'
            myData[stage_susccesfull'] = 'true'
            myDataTags['stage_name'] = env.STAGE_NAME
            influxDbPublisher (
                target: 'Jenkins',
                customData: myData,
                customDataTags: myDataTags
            )
        }
}